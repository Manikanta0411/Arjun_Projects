{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useMergedState;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _useEvent = _interopRequireDefault(require(\"./useEvent\"));\n\nvar _useLayoutEffect = require(\"./useLayoutEffect\");\n\nvar _useState5 = _interopRequireDefault(require(\"./useState\"));\n/** We only think `undefined` is empty */\n\n\nfunction hasValue(value) {\n  return value !== undefined;\n}\n/**\n * Similar to `useState` but will use props value if provided.\n * Note that internal use rc-util `useState` hook.\n */\n\n\nfunction useMergedState(defaultStateValue, option) {\n  var _ref = option || {},\n      defaultValue = _ref.defaultValue,\n      value = _ref.value,\n      onChange = _ref.onChange,\n      postState = _ref.postState; // ======================= Init =======================\n\n\n  var _useState = (0, _useState5.default)(function () {\n    if (hasValue(value)) {\n      return value;\n    } else if (hasValue(defaultValue)) {\n      return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n    } else {\n      return typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n    }\n  }),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      innerValue = _useState2[0],\n      setInnerValue = _useState2[1];\n\n  var mergedValue = value !== undefined ? value : innerValue;\n  var postMergedValue = postState ? postState(mergedValue) : mergedValue; // ====================== Change ======================\n\n  var onChangeFn = (0, _useEvent.default)(onChange);\n\n  var _useState3 = (0, _useState5.default)([mergedValue]),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      prevValue = _useState4[0],\n      setPrevValue = _useState4[1];\n\n  (0, _useLayoutEffect.useLayoutUpdateEffect)(function () {\n    var prev = prevValue[0];\n\n    if (innerValue !== prev) {\n      onChangeFn(innerValue, prev);\n    }\n  }, [prevValue]); // Sync value back to `undefined` when it from control to un-control\n\n  (0, _useLayoutEffect.useLayoutUpdateEffect)(function () {\n    if (!hasValue(value)) {\n      setInnerValue(value);\n    }\n  }, [value]); // ====================== Update ======================\n\n  var triggerChange = (0, _useEvent.default)(function (updater, ignoreDestroy) {\n    setInnerValue(updater, ignoreDestroy);\n    setPrevValue([mergedValue], ignoreDestroy);\n  });\n  return [postMergedValue, triggerChange];\n}","map":{"version":3,"names":["_interopRequireDefault","require","default","Object","defineProperty","exports","value","useMergedState","_slicedToArray2","_useEvent","_useLayoutEffect","_useState5","hasValue","undefined","defaultStateValue","option","_ref","defaultValue","onChange","postState","_useState","_useState2","innerValue","setInnerValue","mergedValue","postMergedValue","onChangeFn","_useState3","_useState4","prevValue","setPrevValue","useLayoutUpdateEffect","prev","triggerChange","updater","ignoreDestroy"],"sources":["/Users/mohanabondada/Downloads/01-starting-project/node_modules/rc-util/lib/hooks/useMergedState.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useMergedState;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _useEvent = _interopRequireDefault(require(\"./useEvent\"));\nvar _useLayoutEffect = require(\"./useLayoutEffect\");\nvar _useState5 = _interopRequireDefault(require(\"./useState\"));\n/** We only think `undefined` is empty */\nfunction hasValue(value) {\n  return value !== undefined;\n}\n/**\n * Similar to `useState` but will use props value if provided.\n * Note that internal use rc-util `useState` hook.\n */\nfunction useMergedState(defaultStateValue, option) {\n  var _ref = option || {},\n    defaultValue = _ref.defaultValue,\n    value = _ref.value,\n    onChange = _ref.onChange,\n    postState = _ref.postState;\n  // ======================= Init =======================\n  var _useState = (0, _useState5.default)(function () {\n      if (hasValue(value)) {\n        return value;\n      } else if (hasValue(defaultValue)) {\n        return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n      } else {\n        return typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n      }\n    }),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    innerValue = _useState2[0],\n    setInnerValue = _useState2[1];\n  var mergedValue = value !== undefined ? value : innerValue;\n  var postMergedValue = postState ? postState(mergedValue) : mergedValue;\n  // ====================== Change ======================\n  var onChangeFn = (0, _useEvent.default)(onChange);\n  var _useState3 = (0, _useState5.default)([mergedValue]),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    prevValue = _useState4[0],\n    setPrevValue = _useState4[1];\n  (0, _useLayoutEffect.useLayoutUpdateEffect)(function () {\n    var prev = prevValue[0];\n    if (innerValue !== prev) {\n      onChangeFn(innerValue, prev);\n    }\n  }, [prevValue]);\n  // Sync value back to `undefined` when it from control to un-control\n  (0, _useLayoutEffect.useLayoutUpdateEffect)(function () {\n    if (!hasValue(value)) {\n      setInnerValue(value);\n    }\n  }, [value]);\n  // ====================== Update ======================\n  var triggerChange = (0, _useEvent.default)(function (updater, ignoreDestroy) {\n    setInnerValue(updater, ignoreDestroy);\n    setPrevValue([mergedValue], ignoreDestroy);\n  });\n  return [postMergedValue, triggerChange];\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}